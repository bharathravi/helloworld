<!DOCTYPE html>
<head>

    <link type="text/css" rel="stylesheet" href="/stylesheets/mob.css" />
<script type="text/javascript" charset="utf-8">

    function ResponseToDiv(response) {
      if (response == 1) { 
        return "divYes";
      } else if (response == 0) {
        return "divMaybe";
      } else if (response == -1) {
        return "divNo";
      }
    }

    function DrawResponse(response) {
      var divName = ResponseToDiv(response);
  
      $(".response").each(function( i ) {
        id = $(this).attr('id');
        if (id == divName) {
          $(this).addClass("selected");
        } else {
          $(this).removeClass("selected");
        }
      }); 
    }
  
    var inProgress = false;
    function SetResponse(uuid, response) {
      if (inProgress)
        return;

      inProgress = true;
      var dataString = "rsvp=" + response + "&uuid=" + uuid;
      var divName = '#' + ResponseToDiv(response);
      old = $(divName).text();
      $(divName).text("Saving...");
 
      console.log(dataString);
      $.ajax({
        type: "POST",
        data: dataString,
        url: "/rsvp",
        success: function(data) {
          console.log("RET " + data.retval);
          $(divName).text(old);
          DrawResponse(response);
          inProgress = false;
        }
      });
    }
</head>
<body>

<div id ="finalinvite" class="static" 
         >
				
				<div id="responseOuter" class="static"
                >
				<img src="images/RsvpText.png" height="15%"  style="top:42%;" />
                <div id="divYes" class="response"> Yes </div>
                <div id="divMaybe" class="response"> Maybe </div>
                <div id="divNo" class="response"> No </div>
            </div>
			</div>
</body>